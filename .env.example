# ════════════════════════════════════════════════════════
#   XFlix — Configuration
#   Copiez ce fichier en .env et adaptez les valeurs
# ════════════════════════════════════════════════════════

# ─── Serveur ──────────────────────────────────────────────────────
PORT=3000

# ─── Médias ───────────────────────────────────────────────────────
# Chemin absolu vers votre dossier de médias.
# Chaque sous-dossier direct = un performer.
# Exemple : /home/user/Vidéos  ou  /mnt/nas/OF
MEDIA_DIR=/path/to/your/media

# Dossier des thumbnails (créé automatiquement par install.sh)
# Laisser vide pour utiliser le défaut : <xflix>/data/thumbs
# THUMB_DIR=/path/to/xflix/data/thumbs

# Dossier de sortie des vidéos encodées
# Laisser vide pour utiliser le défaut : <xflix>/data/encoded
# ENCODE_DIR=/opt/Xflix/data/encoded

# ─── Base de données (MariaDB / MySQL) ────────────────────────────
DB_HOST=localhost
DB_PORT=3306
DB_USER=xflix
DB_PASS=changeme          # ← à changer en production
DB_NAME=xflix

# ─── Authentification JWT ─────────────────────────────────────────
# Générer un secret fort :
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Si non défini, une clé aléatoire est générée au démarrage (sessions perdues au restart)
JWT_SECRET=change_this_to_a_long_random_string
JWT_EXPIRES=7d

# ─── URL de base ──────────────────────────────────────────────────
# Utilisée dans les emails de réinitialisation de mot de passe.
# Par défaut, l'URL est déduite automatiquement du host de la requête HTTP
# (fonctionne correctement derrière nginx/caddy/SSL).
# Ne définir que si le proxy modifie le Host ou si vous voulez forcer un domaine.
# BASE_URL=https://xflix.example.com

# ─── CORS ────────────────────────────────────────────────────────
# Origines autorisées (par défaut: reflète l'origin de la requête)
# Exemples: http://localhost:3000  ou  https://xflix.example.com
# CORS_ORIGIN=http://localhost:3000

# ─── SMTP (optionnel — pour les emails de reset de mot de passe) ──
# Si non configuré, le lien de reset est affiché dans les logs serveur (mode dev)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=you@gmail.com
# SMTP_PASS=your_app_password
# SMTP_FROM=XFlix <no-reply@example.com>
# SMTP_SECURE=false   # true pour SSL direct (port 465)
